{"ast":null,"code":"const handleSubmit = async e => {\n  e.preventDefault();\n  setError('');\n  setSuccessMessage('');\n\n  // Define URL based on login or signup mode\n  const url = isLogin ? '/api/auth/login' : '/api/auth/signup';\n  try {\n    const response = await fetch(`http://localhost:8000${url}`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(formData)\n    });\n    const data = await response.json();\n    if (response.ok) {\n      if (isLogin) {\n        console.log('Logged in:', data);\n        localStorage.setItem('token', data.token); // Store token for login session\n        setSuccessMessage('Login successful!');\n        navigate('/'); // Redirect to homepage\n      } else {\n        setSuccessMessage('Account created successfully! Please log in.');\n      }\n    } else {\n      setError(data.message || 'An error occurred. Please try again.');\n    }\n  } catch (err) {\n    setError('Something went wrong. Please try again later.');\n  }\n};","map":{"version":3,"names":["handleSubmit","e","preventDefault","setError","setSuccessMessage","url","isLogin","response","fetch","method","headers","body","JSON","stringify","formData","data","json","ok","console","log","localStorage","setItem","token","navigate","message","err"],"sources":["/Users/prathamesh_shenoy/Desktop/hikingapp/src/pages/Login/Login.js"],"sourcesContent":["const handleSubmit = async (e) => {\n  e.preventDefault();\n  setError('');\n  setSuccessMessage('');\n\n  // Define URL based on login or signup mode\n  const url = isLogin ? '/api/auth/login' : '/api/auth/signup';\n  \n  try {\n    const response = await fetch(`http://localhost:8000${url}`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(formData),\n    });\n\n    const data = await response.json();\n\n    if (response.ok) {\n      if (isLogin) {\n        console.log('Logged in:', data);\n        localStorage.setItem('token', data.token); // Store token for login session\n        setSuccessMessage('Login successful!');\n        navigate('/');  // Redirect to homepage\n      } else {\n        setSuccessMessage('Account created successfully! Please log in.');\n      }\n    } else {\n      setError(data.message || 'An error occurred. Please try again.');\n    }\n  } catch (err) {\n    setError('Something went wrong. Please try again later.');\n  }\n};\n"],"mappings":"AAAA,MAAMA,YAAY,GAAG,MAAOC,CAAC,IAAK;EAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;EAClBC,QAAQ,CAAC,EAAE,CAAC;EACZC,iBAAiB,CAAC,EAAE,CAAC;;EAErB;EACA,MAAMC,GAAG,GAAGC,OAAO,GAAG,iBAAiB,GAAG,kBAAkB;EAE5D,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,wBAAwBH,GAAG,EAAE,EAAE;MAC1DI,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB,CAAC;MAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACC,QAAQ;IAC/B,CAAC,CAAC;IAEF,MAAMC,IAAI,GAAG,MAAMR,QAAQ,CAACS,IAAI,CAAC,CAAC;IAElC,IAAIT,QAAQ,CAACU,EAAE,EAAE;MACf,IAAIX,OAAO,EAAE;QACXY,OAAO,CAACC,GAAG,CAAC,YAAY,EAAEJ,IAAI,CAAC;QAC/BK,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEN,IAAI,CAACO,KAAK,CAAC,CAAC,CAAC;QAC3ClB,iBAAiB,CAAC,mBAAmB,CAAC;QACtCmB,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAE;MAClB,CAAC,MAAM;QACLnB,iBAAiB,CAAC,8CAA8C,CAAC;MACnE;IACF,CAAC,MAAM;MACLD,QAAQ,CAACY,IAAI,CAACS,OAAO,IAAI,sCAAsC,CAAC;IAClE;EACF,CAAC,CAAC,OAAOC,GAAG,EAAE;IACZtB,QAAQ,CAAC,+CAA+C,CAAC;EAC3D;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}